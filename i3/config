##################
## Key bindings ##
##################
# Keys
set $mAlt Mod1
set $mSuper Mod4
set $mShift Shift
set $mCtrl Ctrl
set $kSuper 133

# Workspaces
set $ws_1_misc 1:Misc
set $ws_2_web 2:
set $ws_3_term 3:
set $ws_4_ide 4:
set $ws_5_chat 5:
set $ws_6_music 6:
set $ws_7 07:7
set $ws_8 08:8
set $ws_9 09:9
set $ws_0 10:10

# Colors
set_from_resource $color_foreground i3wm.foreground #ffffff
set_from_resource $color_background i3wm.background #000000
set_from_resource $color_cursor i3wm.cursorColor #ffffff
set_from_resource $color_normal_black i3wm.color0 #000000
set_from_resource $color_bright_black i3wm.color8 #ffffff
set_from_resource $color_normal_red i3wm.color1 #000000
set_from_resource $color_bright_red i3wm.color9 #ffffff
set_from_resource $color_normal_green i3wm.color2 #000000
set_from_resource $color_bright_green i3wm.color10 #ffffff
set_from_resource $color_normal_yellow i3wm.color3 #000000
set_from_resource $color_bright_yellow i3wm.color11 #ffffff
set_from_resource $color_normal_blue i3wm.color4 #000000
set_from_resource $color_bright_blue i3wm.color12 #ffffff
set_from_resource $color_normal_magenta i3wm.color5 #000000
set_from_resource $color_bright_magenta i3wm.color13 #ffffff
set_from_resource $color_normal_cyan i3wm.color6 #000000
set_from_resource $color_bright_cyan i3wm.color14 #ffffff
set_from_resource $color_normal_white i3wm.color7 #000000
set_from_resource $color_bright_white i3wm.color15 #ffffff
set $color_transparent #00000000

# Reload
bindsym $mSuper+$mShift+c reload
bindsym $mSuper+$mShift+r restart
bindsym $mSuper+$mShift+x exec xrdb ~/.Xresources

# Misc
bindsym $mSuper+space exec --no-startup-id sh ~/.scripts/kb-layout-toggle.sh
bindsym Print exec --no-startup-id scrot -e 'mv $f /tmp/ && gimp /tmp/$f'
bindsym $mSuper+Print exec --no-startup-id scrot -s -e 'mv $f /tmp/ && gimp /tmp/$f'
bindsym $mSuper+f fullscreen toggle
bindsym $mSuper+BackSpace split toggle
#bindsym $mSuper+$mShift+space floating toggle
#bindsym $mSuper+space focus mode_toggle
bindsym $mSuper+Escape exec --no-startup-id sh ~/.scripts/power-menu.sh
bindsym $mSuper+L exec --no-startup-id sh ~/.scripts/lock.sh

# Start and stop apps
bindcode $kSuper --release exec --no-startup-id "rofi -combi-modi window,drun,ssh -modi combi -show combi"
bindsym $mSuper+Return exec --no-startup-id i3-sensible-terminal
bindsym $mSuper+q kill

# Window selection
bindsym $mSuper+Left focus left
bindsym $mSuper+Down focus down
bindsym $mSuper+Up focus up
bindsym $mSuper+Right focus right

# Workspace selection
bindsym $mSuper+Tab workspace back_and_forth
bindsym $mSuper+1 workspace $ws_1_misc
bindsym $mSuper+2 workspace $ws_2_web
bindsym $mSuper+3 workspace $ws_3_term
bindsym $mSuper+4 workspace $ws_4_ide
bindsym $mSuper+5 workspace $ws_5_chat
bindsym $mSuper+6 workspace $ws_6_music
bindsym $mSuper+7 workspace $ws_7
bindsym $mSuper+8 workspace $ws_8
bindsym $mSuper+9 workspace $ws_9
bindsym $mSuper+0 workspace $ws_0

# Move window
bindsym $mSuper+$mShift+Left move left
bindsym $mSuper+$mShift+Down move down
bindsym $mSuper+$mShift+Up move up
bindsym $mSuper+$mShift+Right move right

# Move windows to workspace
bindsym $mSuper+$mShift+1 move container to workspace $ws_1_misc
bindsym $mSuper+$mShift+2 move container to workspace $ws_2_web
bindsym $mSuper+$mShift+3 move container to workspace $ws_3_term
bindsym $mSuper+$mShift+4 move container to workspace $ws_4_ide
bindsym $mSuper+$mShift+5 move container to workspace $ws_5_chat
bindsym $mSuper+$mShift+6 move container to workspace $ws_6_music
bindsym $mSuper+$mShift+7 move container to workspace $ws_7
bindsym $mSuper+$mShift+8 move container to workspace $ws_8
bindsym $mSuper+$mShift+9 move container to workspace $ws_9
bindsym $mSuper+$mShift+0 move container to workspace $ws_0

# Resize window
bindsym $mSuper+$mCtrl+Left resize shrink width 10 px or 10 ppt
bindsym $mSuper+$mCtrl+Right resize grow width 10 px or 10 ppt
bindsym $mSuper+$mCtrl+Up resize shrink height 10 px or 10 ppt
bindsym $mSuper+$mCtrl+Down resize grow height 10 px or 10 ppt

# Function keys
bindsym XF86AudioRaiseVolume exec --no-startup-id pactl set-sink-volume 0 +10%
bindsym XF86AudioLowerVolume exec --no-startup-id pactl set-sink-volume 0 -10%
bindsym XF86AudioMute exec --no-startup-id pactl set-sink-mute 0 toggle

bindsym XF86AudioPlay exec --no-startup-id playerctl play
bindsym XF86AudioPause exec --no-startup-id playerctl pause
bindsym XF86AudioNext exec --no-startup-id playerctl next
bindsym XF86AudioPrev exec --no-startup-id playerctl previous

bindsym XF86MonBrightnessUp exec --no-startup-id xbacklight -inc 20
bindsym XF86MonBrightnessDown exec --no-startup-id xbacklight -dec 20

################
## Status Bar ##
################
bar {
  font pango:FiraCode 10
  status_command i3blocks
  position top
  strip_workspace_numbers yes
  colors {
    separator $color_foreground
    background $color_background
    statusline $color_foreground
    focused_workspace   $color_background $color_foreground $color_background
    active_workspace    $color_background $color_foreground $color_background
    inactive_workspace  $color_background $color_background $color_foreground
    urgent_workspace    $color_background $color_normal_red $color_foreground
  }
}

#############
## Styling ##
#############
# Borders
default_border pixel 2
default_floating_border pixel 2

# class                 border              backgr.             text                indicator           child_border
client.focused          $color_bright_green $color_normal_black $color_bright_green $color_bright_green $color_normal_green
client.focused_inactive $color_bright_blue  $color_normal_black $color_bright_blue  $color_bright_blue  $color_normal_blue
client.unfocused        $color_bright_black $color_normal_black $color_bright_black $color_bright_black $color_normal_black
client.urgent           $color_bright_red   $color_normal_black $color_bright_red   $color_bright_red   $color_normal_red
client.placeholder      $color_bright_black $color_normal_black $color_bright_black $color_bright_black $color_normal_black
client.background       $color_background

# Gaps
gaps inner 10
gaps outer 10

##############
## Behavior ##
##############
focus_follows_mouse no
# for_window [class=".*"] focus
# focus_on_window_activation focus

assign [class="Google-chrome" instance="google-chrome"] $ws_2_web
assign [class="URxvt"] $ws_3_term
assign [class="Code"] $ws_4_ide
assign [class="jetbrains-rider"] $ws_4_ide
assign [class="discord"] $ws_5_chat
assign [class="skypeforlinux"] $ws_5_chat
assign [class="Spotify"] $ws_6_music
# assign [class=".*" window_type="normal"] $ws_1_misc

#for_window [class="[.]*"] floating disable
#for_window [class="Xdialog"] floating enable

#############
## Daemons ##
#############
exec --no-startup-id redshift
exec --no-startup-id dunst
exec --no-startup-id compton
exec_always --no-startup-id feh --bg-fill ~/.wallpaper.png
