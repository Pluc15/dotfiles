##################
## Key bindings ##
##################
set $mAlt Mod1
set $mSuper Mod4
set $mShift Shift
set $mCtrl Ctrl

set $ws_1_misc 1:Misc
set $ws_2_web 2:
set $ws_3_term 3:
set $ws_4_ide 4:
set $ws_5_chat 5:
set $ws_6_music 6:
set $ws_7 7:7
set $ws_8 8:8
set $ws_9 9:9
set $ws_0 0:10

# i3 commands
bindsym $mSuper+$mShift+c reload
bindsym $mSuper+$mShift+r restart

# Misc
bindsym $mSuper+space exec --no-startup-id sh ~/.scripts/kb-layout-toggle
bindsym Print exec --no-startup-id scrot -e 'mv $f /tmp/ && gimp /tmp/$f'
bindsym $mSuper+Print exec --no-startup-id scrot -s -e 'mv $f /tmp/ && gimp /tmp/$f'
bindsym $mSuper+f fullscreen toggle
bindsym $mSuper+BackSpace split toggle
#bindsym $mSuper+$mShift+space floating toggle
#bindsym $mSuper+space focus mode_toggle

# System commands
bindsym $mSuper+Escape exec --no-startup-id i3lock -i ~/.wallpaper.*
bindsym $mSuper+$mShift+Escape exec --no-startup-id sh ~/.scripts/power-menu

# Start and stop apps
bindsym $mSuper+d exec --no-startup-id sh ~/.scripts/rofi-launch
bindsym $mSuper+Return exec --no-startup-id i3-sensible-terminal
bindsym $mSuper+q kill

# Window selection
bindsym $mSuper+Left focus left
bindsym $mSuper+Down focus down
bindsym $mSuper+Up focus up
bindsym $mSuper+Right focus right

# Workspace selection
bindsym $mSuper+Tab workspace next
bindsym $mSuper+$mShift+Tab workspace prev
bindsym $mSuper+1 workspace $ws_1_misc
bindsym $mSuper+2 workspace $ws_2_web
bindsym $mSuper+3 workspace $ws_3_term
bindsym $mSuper+4 workspace $ws_4_ide
bindsym $mSuper+5 workspace $ws_5_chat
bindsym $mSuper+6 workspace $ws_6_music
bindsym $mSuper+7 workspace $ws_7
bindsym $mSuper+8 workspace $ws_8
bindsym $mSuper+9 workspace $ws_9
bindsym $mSuper+0 workspace $ws_0

# Move window
bindsym $mSuper+$mShift+Left move left
bindsym $mSuper+$mShift+Down move down
bindsym $mSuper+$mShift+Up move up
bindsym $mSuper+$mShift+Right move right

# Move windows to workspace
bindsym $mSuper+$mShift+1 move container to workspace $ws_1_misc
bindsym $mSuper+$mShift+2 move container to workspace $ws_2_web
bindsym $mSuper+$mShift+3 move container to workspace $ws_3_term
bindsym $mSuper+$mShift+4 move container to workspace $ws_4_ide
bindsym $mSuper+$mShift+5 move container to workspace $ws_5_chat
bindsym $mSuper+$mShift+6 move container to workspace $ws_6_music
bindsym $mSuper+$mShift+7 move container to workspace $ws_7
bindsym $mSuper+$mShift+8 move container to workspace $ws_8
bindsym $mSuper+$mShift+9 move container to workspace $ws_9
bindsym $mSuper+$mShift+0 move container to workspace $ws_0

# Resize window
bindsym $mSuper+$mCtrl+Left resize shrink width 10 px or 10 ppt
bindsym $mSuper+$mCtrl+Right resize grow width 10 px or 10 ppt
bindsym $mSuper+$mCtrl+Up resize shrink height 10 px or 10 ppt
bindsym $mSuper+$mCtrl+Down resize grow height 10 px or 10 ppt

# Function keys
bindsym XF86AudioRaiseVolume exec --no-startup-id pactl set-sink-volume 0 +10%
bindsym XF86AudioLowerVolume exec --no-startup-id pactl set-sink-volume 0 -10%
bindsym XF86AudioMute exec --no-startup-id pactl set-sink-mute 0 toggle

bindsym XF86AudioPlay exec --no-startup-id playerctl play
bindsym XF86AudioPause exec --no-startup-id playerctl pause
bindsym XF86AudioNext exec --no-startup-id playerctl next
bindsym XF86AudioPrev exec --no-startup-id playerctl previous

bindsym XF86MonBrightnessUp exec --no-startup-id xbacklight -inc 20
bindsym XF86MonBrightnessDown exec --no-startup-id xbacklight -dec 20

################
## Status Bar ##
################
set $color #1d1f21
bar {
  font pango:PragmataPro 10
  status_command i3blocks
  position top
  colors {
    separator #969896
    background $color
    statusline #c5c8c6
    focused_workspace #81a2be #81a2be #1d1f21
    active_workspace #373b41 #373b41 #ffffff
    inactive_workspace #282a2e #282a2e #969896
    urgent_workspace #cc6666 #cc6666 #ffffff
  }
}

#############
## Styling ##
#############
font pango:Hack 10

# Borders
new_window pixel 2
new_float pixel 2

# class                 border  backgr. text    indicator child_border
client.focused          #4c7899 #285577 #ffffff #2e9ef4   #285577
client.focused_inactive #333333 #5f676a #ffffff #484e50   #5f676a
client.unfocused        #333333 #222222 #888888 #292d2e   #222222
client.urgent           #2f343a #900000 #ffffff #900000   #900000
client.placeholder      #000000 #0c0c0c #ffffff #000000   #0c0c0c
client.background       #ffffff

# Gaps
# gaps inner 10
# gaps outer 10

##############
## Behavior ##
##############
focus_follows_mouse no
# for_window [class=".*"] focus
# focus_on_window_activation focus

assign [class="Google-chrome" instance="google-chrome"] $ws_2_web
assign [class="URxvt"] $ws_3_term
assign [class="Code"] $ws_4_ide
assign [class="discord"] $ws_5_chat
assign [class="skypeforlinux"] $ws_5_chat
assign [class="Google-chrome" instance="crx_llfmpmbamlkpgegjjgbmijodcfpcjflc"] $ws_5_chat
assign [class="Spotify"] $ws_6_music
# assign [class=".*" window_type="normal"] $ws_1_misc

#for_window [class="[.]*"] floating disable
#for_window [class="Xdialog"] floating enable

#############
## Daemons ##
#############
exec --no-startup-id redshift
exec --no-startup-id nm-applet
exec_always --no-startup-id feh --bg-fill ~/.wallpaper.*